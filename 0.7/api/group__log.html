<!DOCTYPE html>
<html lang='en'>
<head>
<title>Coral 0.7: Logging API</title>
<link href='../images/logo.png' rel='icon' type='image/png' />
<link href='../style/screen.css' media='screen, projection' rel='stylesheet' type='text/css' />
<link href='../style/print.css' media='print' rel='stylesheet' type='text/css' />
<!--[if lt IE 8]>
<link href='../style/ie.css' media='screen, projection' rel='stylesheet' type='text/css' />
<![endif]-->
<script language='javascript' src='../js/column.js' type='text/javascript'></script>
<script language='javascript' src='../js/jquery.js' type='text/javascript'></script>
<script language='javascript' src='../js/addons.js' type='text/javascript'></script>

</head>
<body class='bp'>
<div id='header'><div id='logotitle'>
<div id='logo'></div>
<a href='http://doc.libcoral.org/0.7/'>
<h1>Coral Reference Documentation</h1>
</a>
</div>
<div id='navtr'>
<ul>
<li>
<a href='http://libcoral.org/' title='Coral Home'>Coral HOME</a>
</li>
<li class=''>
<a href='http://doc.libcoral.org/0.7/' title='Coral Reference Documentation'>DOC</a>
</li>
<li class='selected'>
<a href='http://doc.libcoral.org/0.7/api/' title='Coral API Documentation'>API</a>
</li>
</ul>
</div>
<div id='versions'>
<ul>
<li>
<a href='http://doc.libcoral.org/0.7/'>
Coral 0.7
<div id='selected'>
<div id='text'>Coral 0.7</div>
</div>
</a>
</li>
<li>
<a href='http://doc.libcoral.org/'>ALL VERSIONS</a>
</li>
</ul>
</div>
</div>
<div id='container'>
<div id='sidebar'><h1>API</h1>
<ul>
<li>
<a href='annotated.html'>Class List</a>
</li>
<li>
<a href='hierarchy.html'>Class Hierarchy</a>
</li>
<li>
<a href='namespaces.html'>Namespaces</a>
</li>
<li>
<a href='group__functional.html'>Functional Groups</a>
</li>
</ul>
<div id='separator'></div>
<h1>Topics</h1>
<ul>
<li>
<a href='../fundamentals.html'>Fundamentos</a>
</li>
<li>
<a href='../types.html'>Sistema de Tipos</a>
</li>
<li>
<a href='../csl.html'>Coral Specification Language (CSL)</a>
</li>
<li>
<a href='../mapping.html'>Mapeamento de CSL para C++</a>
</li>
<li>
<a href='../compiler.html'>Compilador</a>
</li>
<li>
<a href='../cmake.html'>CMake Package</a>
</li>
</ul>
<div id='separator'></div>
<h1>Examples</h1>
<ul>
<li>Tutorial</li>
<li>Examples</li>
</ul>
</div>
<div id='mainarea'>
<div id='toolbar'><div id='breadcrumbs'>
<ul>
<li class='first'>
<a href="../">Home</a>
</li>
<li><a href='./'>API</a></li><li id='doxtitle'>Logging API</li>
</ul>
</div>
<div id='docfeedback'>
<a href='https://spreadsheets.google.com/viewform?formkey=dE9TZy1kLTctZ3NBdUd6T2ZBNVBXdmc6MQ&amp;entry_0=Logging API&amp;entry_2=0.7' target='_blank' title='Provide feedback about this documentation page.'>
[+] Documentation Feedback
</a>
</div>
</div>
<div class='api' id='content'><div>
<!-- Generated by Doxygen 1.7.5.1 -->
</div>
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#define-members">Defines</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Logging API</div>  </div>
<div class="ingroups"><a class="el" href="group__functional.html">Functional Groups</a></div></div>
<div class="contents">

<p>API for sending log output.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structco_1_1_log.html">Log</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">A log record.  <a href="structco_1_1_log.html#details">More...</a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classco_1_1_logger.html">Logger</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Class responsible for recording and dispatching log records.  <a href="classco_1_1_logger.html#details">More...</a><br/></td></tr>
<tr><td colspan="2"><h2><a name="define-members"></a>
Defines</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gaef0e1595a2421751dd424f1eb3672707"></a><!-- doxytag: member="log::CORAL_LOG_MIN_SEVERITY" ref="gaef0e1595a2421751dd424f1eb3672707" args="" -->
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__log.html#gaef0e1595a2421751dd424f1eb3672707">CORAL_LOG_MIN_SEVERITY</a>&#160;&#160;&#160;co::LOG_INFO</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Logs below this severity level are disabled at compile time. Defaults to LOG_INFO. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__log.html#ga1a69034952130e99b07e678b6618b1ef">CORAL_LOG</a>(level)&#160;&#160;&#160;CORAL_LOG_LEVEL_DEBUG( co::LOG_##level, false )</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Records a log with the specified severity level. The macro returns an output stream for recording the log message.  <a href="#ga1a69034952130e99b07e678b6618b1ef"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga3a795ad16b8b7c823ee54fda58ca61b1"></a><!-- doxytag: member="log::CORAL_DLOG" ref="ga3a795ad16b8b7c823ee54fda58ca61b1" args="(level)" -->
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__log.html#ga3a795ad16b8b7c823ee54fda58ca61b1">CORAL_DLOG</a>(level)&#160;&#160;&#160;CORAL_LOG_LEVEL_DEBUG( co::LOG_##level, true )</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Just like <a class="el" href="group__log.html#ga1a69034952130e99b07e678b6618b1ef" title="Records a log with the specified severity level. The macro returns an output stream for recording the...">CORAL_LOG()</a>, but meant for debugging. This kind of log is removed from release builds. <br/></td></tr>
<tr><td colspan="2"><h2><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gaeffeef2c0fc25d28829898ba9079420d"></a><!-- doxytag: member="log::LogHandler" ref="gaeffeef2c0fc25d28829898ba9079420d" args=")(const Log &amp;log)" -->
typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__log.html#gaeffeef2c0fc25d28829898ba9079420d">LogHandler</a> )(const Log &amp;log)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Signature of a LogHandler function. See <a class="el" href="group__log.html#gabd381b1ccc77cfc3a659ea643d277916" title="Sets the log handler function and returns the previous handler.">setLogHandler()</a>. <br/></td></tr>
<tr><td colspan="2"><h2><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__log.html#gaca1fd1d8935433e6ba2e3918214e07f9">LogLevel</a> { <br/>
&#160;&#160;<a class="el" href="group__log.html#ggaca1fd1d8935433e6ba2e3918214e07f9a6e98ff471e3ce6c4ef2d75c37ee51837">LOG_INFO</a>, 
<br/>
&#160;&#160;<a class="el" href="group__log.html#ggaca1fd1d8935433e6ba2e3918214e07f9a8f6fe15bfe15104da6d1b360194a5400">LOG_WARNING</a>, 
<br/>
&#160;&#160;<a class="el" href="group__log.html#ggaca1fd1d8935433e6ba2e3918214e07f9a230506cce5c68c3bac5a821c42ed3473">LOG_ERROR</a>, 
<br/>
&#160;&#160;<a class="el" href="group__log.html#ggaca1fd1d8935433e6ba2e3918214e07f9ac630750884d91cb9767ef2200bbb048b">LOG_FATAL</a>
<br/>
 }</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Log severity levels, in increasing order of severity.  <a href="group__log.html#gaca1fd1d8935433e6ba2e3918214e07f9">More...</a><br/></td></tr>
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">LogHandler&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__log.html#gabd381b1ccc77cfc3a659ea643d277916">setLogHandler</a> (LogHandler handler)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the log handler function and returns the previous handler.  <a href="#gabd381b1ccc77cfc3a659ea643d277916"></a><br/></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<p>API for sending log output. </p>
<dl class="user"><dt><b>Recording Logs</b></dt><dd>Logs are recorded with a call to either <a class="el" href="group__log.html#ga1a69034952130e99b07e678b6618b1ef" title="Records a log with the specified severity level. The macro returns an output stream for recording the...">CORAL_LOG( level )</a> or <a class="el" href="group__log.html#ga3a795ad16b8b7c823ee54fda58ca61b1" title="Just like CORAL_LOG(), but meant for debugging. This kind of log is removed from release builds...">CORAL_DLOG( level )</a>. The former is for production logging, while the latter is for debugging. In either case, these macros return an output stream for recording the log message, and the <code>level</code> argument indicates the <em>log severity level</em> (see <a class="el" href="group__log.html#gaca1fd1d8935433e6ba2e3918214e07f9" title="Log severity levels, in increasing order of severity.">co::LogLevel</a>).</dd></dl>
<dl class="user"><dt><b>Filtering out logs at Compile Time</b></dt><dd>Logs are filtered out at compile time if their severity is lesser than the value of the preprocessor constant CORAL_LOG_MIN_SEVERITY, which defaults to <a class="el" href="group__log.html#ggaca1fd1d8935433e6ba2e3918214e07f9a6e98ff471e3ce6c4ef2d75c37ee51837" title="A harmless observation.">co::LOG_INFO</a>.</dd></dl>
<dl class="user"><dt><b>Filtering out logs at Run Time</b></dt><dd>Logs can be filtered out at run time by setting a minimum severity level for the <a class="el" href="classco_1_1_logger.html" title="Class responsible for recording and dispatching log records.">co::Logger</a> class (see <a class="el" href="classco_1_1_logger.html#a6ff5b92dc7f3904c679972b029402e0d" title="Sets the minimum severity level needed for a log to be recorded.">co::Logger::setMinSeverity()</a>).</dd></dl>
<dl class="user"><dt><b>Sample Logging</b></dt><dd><div class="fragment"><pre class="fragment"><span class="comment">// Logged both in Release/Debug, if CORAL_LOG_MIN_SEVERITY is at least co::LOG_INFO</span>
<a class="code" href="group__log.html#ga1a69034952130e99b07e678b6618b1ef" title="Records a log with the specified severity level. The macro returns an output stream for recording the...">CORAL_LOG</a>(INFO) &lt;&lt; <span class="stringliteral">&quot;Loading file &#39;&quot;</span> &lt;&lt; filename &lt;&lt; <span class="stringliteral">&quot;&#39;&quot;</span>;

<span class="comment">// Only logged if in Debug and CORAL_LOG_MIN_SEVERITY is at least co::LOG_WARNING</span>
<a class="code" href="group__log.html#ga3a795ad16b8b7c823ee54fda58ca61b1" title="Just like CORAL_LOG(), but meant for debugging. This kind of log is removed from release builds...">CORAL_DLOG</a>(WARNING) &lt;&lt; <span class="stringliteral">&quot;Using new multi-threaded code path&quot;</span>;
</pre></div></dd></dl>
<dl class="user"><dt><b>Reporting Logs in Applications</b></dt><dd>All logs are dispatched to a user-defined callback function (see <a class="el" href="group__log.html#gabd381b1ccc77cfc3a659ea643d277916" title="Sets the log handler function and returns the previous handler.">setLogHandler()</a>). The default log handler prints all logs to <code>stderr</code> and aborts the application in case of a fatal error. </dd></dl>
<hr/><h2>Define Documentation</h2>
<a class="anchor" id="ga1a69034952130e99b07e678b6618b1ef"></a><!-- doxytag: member="Log.h::CORAL_LOG" ref="ga1a69034952130e99b07e678b6618b1ef" args="(level)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CORAL_LOG</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">level</td><td>)</td>
          <td>&#160;&#160;&#160;CORAL_LOG_LEVEL_DEBUG( co::LOG_##level, false )</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Records a log with the specified severity level. The macro returns an output stream for recording the log message. </p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="group__log.html#gabd381b1ccc77cfc3a659ea643d277916" title="Sets the log handler function and returns the previous handler.">setLogHandler()</a> </dd></dl>

</div>
</div>
<hr/><h2>Enumeration Type Documentation</h2>
<a class="anchor" id="gaca1fd1d8935433e6ba2e3918214e07f9"></a><!-- doxytag: member="co::LogLevel" ref="gaca1fd1d8935433e6ba2e3918214e07f9" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum LogLevel</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><a class="el" href="structco_1_1_log.html" title="A log record.">Log</a> severity levels, in increasing order of severity. </p>
<dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="ggaca1fd1d8935433e6ba2e3918214e07f9a6e98ff471e3ce6c4ef2d75c37ee51837"></a><!-- doxytag: member="LOG_INFO" ref="ggaca1fd1d8935433e6ba2e3918214e07f9a6e98ff471e3ce6c4ef2d75c37ee51837" args="" -->LOG_INFO</em>&nbsp;</td><td>
<p>A harmless observation. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ggaca1fd1d8935433e6ba2e3918214e07f9a8f6fe15bfe15104da6d1b360194a5400"></a><!-- doxytag: member="LOG_WARNING" ref="ggaca1fd1d8935433e6ba2e3918214e07f9a8f6fe15bfe15104da6d1b360194a5400" args="" -->LOG_WARNING</em>&nbsp;</td><td>
<p>Something worth checking. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ggaca1fd1d8935433e6ba2e3918214e07f9a230506cce5c68c3bac5a821c42ed3473"></a><!-- doxytag: member="LOG_ERROR" ref="ggaca1fd1d8935433e6ba2e3918214e07f9a230506cce5c68c3bac5a821c42ed3473" args="" -->LOG_ERROR</em>&nbsp;</td><td>
<p>Potential data loss and malfunction. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ggaca1fd1d8935433e6ba2e3918214e07f9ac630750884d91cb9767ef2200bbb048b"></a><!-- doxytag: member="LOG_FATAL" ref="ggaca1fd1d8935433e6ba2e3918214e07f9ac630750884d91cb9767ef2200bbb048b" args="" -->LOG_FATAL</em>&nbsp;</td><td>
<p>Default action is to abort the application. </p>
</td></tr>
</table>
</dd>
</dl>

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="gabd381b1ccc77cfc3a659ea643d277916"></a><!-- doxytag: member="co::setLogHandler" ref="gabd381b1ccc77cfc3a659ea643d277916" args="(LogHandler handler)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">LogHandler co::setLogHandler </td>
          <td>(</td>
          <td class="paramtype">LogHandler&#160;</td>
          <td class="paramname"><em>handler</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Sets the log handler function and returns the previous handler. </p>
<p>A log handler is the function that receives all logs. The default handler prints all logs to <code>stderr</code> and aborts the application in case of a fatal error. Only a single handler can be in effect, and it should generally be set before the framework is initialized.</p>
<p>To restore the default handler, call <code>setLogHandler( NULL )</code>. </p>

</div>
</div>
</div>
</div>
</div>
</div>
<div id='footer'>&copy; 2009-2011 libcoral.org. Coral is <a href="https://github.com/libcoral/coral">open source</a>.
See the
<a href='https://github.com/libcoral/coral/blob/master/LICENSE.md'>Coral License</a>
for details.
<br />
Updated on Nov 22 2011.
</div>
<script type='text/javascript'>
  //<![CDATA[
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-813587-3']);
    _gaq.push(['_setDomainName', 'none']);
    _gaq.push(['_setAllowLinker', true]);
    _gaq.push(['_trackPageview']);
    
    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  //]]>
</script>

</body>
</html>
